{% extends "PPSapp/base.html" %}

{% block content %}

<section class="run-report-page-section">
<h1>PPsW Home</h1>

    <div>
        <table id="myTable">
            <th>Brand</th>
            <th>Model</th>
            <th>Price</th>
            <th>Quantity</th>
            <th>Link</th>
            <th>Vendor</th>

            <!-- Inputs -->
            <div class="input-boxes"> 
                <input type="text" id="myInput" onkeyup="searchBrand()" placeholder="Search for brands.." title="Type in a name" class="table-header">
                <input type="text" id="myInput" onkeyup="searchModel()" placeholder="Search for models.." title="Type in a name" class="table-header">
                <input type="text" id="myInputPrice" onkeyup="searchPrice()" placeholder="Search for price.." title="Type in a price" class="table-header">
                <input type="text" id="myInputQuantity" onkeyup="searchQuantity()" placeholder="Search for quantity.." title="Type in a quantity" class="table-header">
                <input type="text" id="myInputLink" onkeyup="searchLink()" placeholder="Search for link.." title="Type in a link" class="table-header">
                <input type="text" id="myInputLink" onkeyup="searchLink()" placeholder="Search for vendor.." title="Type in a link" class="table-header">
            </div>
            {% for dp in data %}
                <tr>
                  <td class="table-item">{{ dp.brand }}</td>
                  <td class="table-item">{{ dp.model }}</td>
                  <td class="table-item">{{ dp.price }}</td>
                  <td class="table-item">{{ dp.quantity }}</td>
                  <td class="table-item"><a href="{{ dp.link }}">Link</a></td>
                  <td class="table-item">{{ dp.vendor }}</td>
                </tr>
            {% endfor %}
        </table>
    </div>

<div class="pagination-buttons">
    <!-- Pagination  -->
    {% if is_paginated %}
        <!-- If not the first page display options to go back -->
        {% if page_obj.has_previous %}
            <a class="btn btn-outline-primary mb-4" href="?page=1">First</a>
            <a class="btn btn-outline-primary mb-4" href="?page={{ page_obj.previous_page_number }}">Previous</a>
        {% endif %}

        <!-- Loops over pages -->
        {% for num in page_obj.paginator.page_range %}
            <!-- If the page number in the loop matches the one we are currently on -->
            {% if page_obj.number == num %}
                <a class="btn btn-primary mb-4" href="?page={{ num }}">{{ num }}</a>
            <!-- If the number is within 3 pages display it -->
            {% elif num > page_obj.number|add:'-3' and num < page_obj.number|add:'3' %}
                <a class="btn btn-outline-primary mb-4" href="?page={{ num }}">{{ num }}</a>
            {% endif %}
        {% endfor %}

        <!-- Displays the next options if not at the last page -->
        {% if page_obj.has_next %}
            <a class="btn btn-outline-primary mb-4" href="?page={{ page_obj.next_page_number }}">Next</a>
            <a class="btn btn-outline-primary mb-4" href="?page={{ page_obj.paginator.num_pages }}">Last</a>
        {% endif %}

    {% endif %}
</div>
</section>

<!-- Start copy / paste of JS -->
<script> 
    function searchBrand() {
      var input, filter, table, tr, td, i, txtValue;
      input = document.getElementById("myInput");
      filter = input.value.toUpperCase();
      table = document.getElementById("myTable");
      tr = table.getElementsByTagName("tr");
      for (i = 0; i < tr.length; i++) {
        td = tr[i].getElementsByTagName("td")[0];
        if (td) {
          txtValue = td.textContent || td.innerText;
          if (txtValue.toUpperCase().indexOf(filter) > -1) {
            tr[i].style.display = "";
          } else {
            tr[i].style.display = "none";
          }
        }
      }
    }

    function searchModel() {
      var input, filter, table, tr, td, i, txtValue;
      input = document.getElementById("myInputPrice");
      filter = input.value.toUpperCase();
      table = document.getElementById("myTable");
      tr = table.getElementsByTagName("tr");
      for (i = 0; i < tr.length; i++) {
        td = tr[i].getElementsByTagName("td")[1];
        if (td) {
          txtValue = td.textContent || td.innerText;
          if (txtValue.toUpperCase().indexOf(filter) > -1) {
            tr[i].style.display = "";
          } else {
            tr[i].style.display = "none";
          }
        }
      }
    }

    function searchPrice() {
      var input, filter, table, tr, td, i, txtValue;
      input = document.getElementById("myInputQuantity");
      filter = input.value.toUpperCase();
      table = document.getElementById("myTable");
      tr = table.getElementsByTagName("tr");
      for (i = 0; i < tr.length; i++) {
        td = tr[i].getElementsByTagName("td")[2];
        if (td) {
          txtValue = td.textContent || td.innerText;
          if (txtValue.toUpperCase().indexOf(filter) > -1) {
            tr[i].style.display = "";
          } else {
            tr[i].style.display = "none";
          }
        }
      }
    }


    function searchQuantity() {
      var input, filter, table, tr, td, i, txtValue;
      input = document.getElementById("myInputLink");
      filter = input.value.toUpperCase();
      table = document.getElementById("myTable");
      tr = table.getElementsByTagName("tr");
      for (i = 0; i < tr.length; i++) {
        td = tr[i].getElementsByTagName("td")[3];
        if (td) {
          txtValue = td.textContent || td.innerText;
          if (txtValue.toUpperCase().indexOf(filter) > -1) {
            tr[i].style.display = "";
          } else {
            tr[i].style.display = "none";
          }
        }
      }
    }

    function searchLink() {
      var input, filter, table, tr, td, i, txtValue;
      input = document.getElementById("myInputLink");
      filter = input.value.toUpperCase();
      table = document.getElementById("myTable");
      tr = table.getElementsByTagName("tr");
      for (i = 0; i < tr.length; i++) {
        td = tr[i].getElementsByTagName("td")[4];
        if (td) {
          txtValue = td.textContent || td.innerText;
          if (txtValue.toUpperCase().indexOf(filter) > -1) {
            tr[i].style.display = "";
          } else {
            tr[i].style.display = "none";
          }
        }
      }
    }

    function searchVendor() {
      var input, filter, table, tr, td, i, txtValue;
      input = document.getElementById("myInputLink");
      filter = input.value.toUpperCase();
      table = document.getElementById("myTable");
      tr = table.getElementsByTagName("tr");
      for (i = 0; i < tr.length; i++) {
        td = tr[i].getElementsByTagName("td")[5];
        if (td) {
          txtValue = td.textContent || td.innerText;
          if (txtValue.toUpperCase().indexOf(filter) > -1) {
            tr[i].style.display = "";
          } else {
            tr[i].style.display = "none";
          }
        }
      }
    }
</script>
<!-- End copy / paste of JS -->


<!-- Mashead header-->
<header class="masthead">
    <div class="container px-5">
        <div class="row gx-5 align-items-center">
            <div class="col-lg-6">
                <!-- Mashead text and app badges-->
                <div class="mb-5 mb-lg-0 text-center text-lg-start">
                    <h1 class="user_wholesalers_selected_by_check_boxes">All your Wholesalers, one place.</h1>
                    <p class="lead fw-normal text-muted mb-5">Seamlessly combine the offerings from your wholesalers
                        into one searchable document.</p>
                    <div class="d-flex flex-column flex-lg-row align-items-center">
<!--                        <a class="me-lg-3 mb-4 mb-lg-0" href="#!"><img class="app-badge" src="static/assets/img/google-play-badge.svg" alt="..." /></a>-->
<!--                        <a href="#!"><img class="app-badge" src="static/assets/img/app-store-badge.svg" alt="..." /></a>-->
                    </div>
                </div>
            </div>
            <div class="col-lg-6">
                
                <!-- Masthead device mockup feature-->
                <div class="masthead-device-mockup">
                    <sv class="circle" viewBox="0 0 100 100" xmlns="http://www.w3.org/2000/svg">
                        <defs>
                            <linearGradient id="circleGradient" gradientTransform="rotate(45)">
                                <stop class="gradient-start-color" offset="0%"></stop>
                                <stop class="gradient-end-color" offset="100%"></stop>
                            </linearGradient>
                        </defs>
                        <circle cx="50" cy="50" r="50"></circle>
                    </sv>
                    <svg class="shape-1 d-none d-sm-block" viewBox="0 0 240.83 240.83" xmlns="http://www.w3.org/2000/svg">
                        <rect x="-32.54" y="78.39" width="305.92" height="84.05" rx="42.03" transform="translate(120.42 -49.88) rotate(45)"></rect>
                        <rect x="-32.54" y="78.39" width="305.92" height="84.05" rx="42.03" transform="translate(-49.88 120.42) rotate(-45)"></rect></svg><svg class="shape-2 d-none d-sm-block" viewBox="0 0 100 100" xmlns="http://www.w3.org/2000/svg"><circle cx="50" cy="50" r="50"></circle></svg>
                    <div class="device-wrapper">

<!-- Picture of sign "Firearms Ammunition"   -->
                         <div class="px-5 px-sm-0"><img class="img-fluid rounded-circle-owen" src="static/assets/img/sign_big.jpg" alt="..." /></div>

                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</header>

        <!-- Quote/testimonial aside-->
        <aside class="text-center bg-gradient-primary-to-secondary">
            <div class="container px-5">
                <div class="row gx-5 justify-content-center">
                    <div class="col-xl-8">
                        <div class="h2 fs-1 text-white mb-4">"The best way to have up-to-date reports from your wholesalers, in a single place!"</div>
                        <div class="h7 fs-1 text-white mb-4">-Me</div>
                    </div>
                </div>
            </div>
        </aside>


        <!-- App features section-->
        <section id="features">
            <div class="container px-5">
                <div class="row gx-5 align-items-center">
                    <div class="col-lg-8 order-lg-1 mb-5 mb-lg-0">
                        <div class="container-fluid px-5">
                            <div class="row gx-5">
                                <div class="col-md-6 mb-5">

                                    <!-- Feature item-->
                                    <div class="text-center">
                                        <i class="bi-play-circle icon-feature text-gradient d-block mb-3"></i>
                                        <h3 class="font-alt">On Demand Reports</h3>
                                        <p class="text-muted mb-0">Receive up-to-date reports right to your email!</p>
                                    </div>
                                </div>
                                <div class="col-md-6 mb-5">

                                    <!-- Feature item-->
                                    <div class="text-center">
                                        <i class="bi-alarm icon-feature text-gradient d-block mb-3"></i>
                                        <h3 class="font-alt">Recurring Reports</h3>
                                        <p class="text-muted mb-0">Set your report to be waiting in your email at the
                                            time of your choosing!</p>
                                    </div>
                                </div>
                            </div>
                            <div class="row">
                                <div class="col-md-6 mb-5 mb-md-0">

                                    <!-- Feature item-->
                                    <div class="text-center">
                                        <i class="bi-clipboard-data icon-feature text-gradient d-block mb-3"></i>
                                        <h3 class="font-alt">Your Own Data Tools</h3>
                                        <p class="text-muted mb-0">Download the data in an easy-to-use format to quickly
                                            analyze with your preferred tools!</p>
                                    </div>
                                </div>
                                <div class="col-md-6">

                                    <!-- Feature item-->
                                    <div class="text-center">
                                        <i class="bi-cash icon-feature text-gradient d-block mb-3"></i>
                                        <h3 class="font-alt">Save Time and Money</h3>
                                        <p class="text-muted mb-0">No more scrolling through hundreds of pages for one wholesaler. Go direct to listings to purchase items!</p>
                                    </div>

                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="col-lg-4 order-lg-0">


                        <!-- Features section device mockup-->
                        <div class="features-device-mockup">

                            <svg class="shape-1 d-none d-sm-block" viewBox="0 0 240.83 240.83" xmlns="http://www.w3.org/2000/svg">
                                <rect x="-32.54" y="78.39" width="305.92" height="84.05" rx="42.03" transform="translate(120.42 -49.88) rotate(45)"></rect>
                                <rect x="-32.54" y="78.39" width="305.92" height="84.05" rx="42.03" transform="translate(-49.88 120.42) rotate(-45)"></rect></svg>
                            <svg class="shape-2 d-none d-sm-block" viewBox="0 0 100 100" xmlns="http://www.w3.org/2000/svg"><circle cx="50" cy="50" r="50"></circle></svg>

                            <div class="device-wrapper">
                                    <div class="px-sm-0"><img class="img-fluid rounded-circle-owen" src="static/assets/img/range_long.jpg" alt="..." /></div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Call to action section-->
        <section class="cta">
            <div class="cta-content">
                <div class="container px-5">
                    <h2 class="text-white display-1 lh-1 mb-4">
                        Stop scrolling.
                        <br />
                        Start analyzing.
                    </h2>
                    <a class="btn btn-outline-light py-3 px-4 rounded-pill" href="register"
                       target="_blank">Get Started for Free</a>
                </div>
            </div>
        </section>



        <!-- App badge section-->
        <section class="bg-gradient-primary-to-secondary" id="download">
            <div class="container px-5">
                <h2 class="text-center text-white font-alt mb-4">Get started now!</h2>
                <div class="d-flex flex-column flex-lg-row align-items-center justify-content-center">
                </div>
            </div>
        </section>

        <!-- Footer-->
        <footer class="bg-black text-center py-5">
            <div class="container px-5">
                <div class="text-white-50 small">
                    <div class="mb-2">&copy; Wholesale Helper 2022. All Rights Reserved.</div>
<!--                    <a href="#!">Privacy</a>-->
<!--                    <span class="mx-1">&middot;</span>-->
<!--                    <a href="#!">Terms</a>-->
<!--                    <span class="mx-1">&middot;</span>-->
<!--                    <a href="#!">FAQ</a>-->
                </div>
            </div>
        </footer>


  <!-- Feedback Modal-->
        <div class="modal fade" id="feedbackModal" tabindex="-1" aria-labelledby="feedbackModalLabel" aria-hidden="true">
            <div class="modal-dialog modal-dialog-centered">
                <div class="modal-content">
                    <div class="modal-header bg-gradient-primary-to-secondary p-4">
                        <h5 class="modal-title font-alt text-white" id="feedbackModalLabel">Send feedback</h5>
                        <button class="btn-close btn-close-white" type="button" data-bs-dismiss="modal" aria-label="Close"></button>
                    </div>
                    <div class="modal-body border-0 p-4"></div>
                        <!-- * * * * * * * * * * * * * * *-->
                        <!-- * * SB Forms Contact Form * *-->
                        <!-- * * * * * * * * * * * * * * *-->

<!--                        TODO before launch, do below to activate form with email and extend to other htmls    -->
                        <!-- This form is pre-integrated with SB Forms.-->
                        <!-- To make this form functional, sign up at-->
                        <!-- https://startbootstrap.com/solution/contact-forms-->
                        <!-- to get an API token!-->
                        <form id="contactForm" data-sb-form-api-token="API_TOKEN">
                            <!-- Name input-->
                            <div class="form-floating mb-3">
                                <input class="form-control" id="name" type="text" placeholder="Enter your name..." data-sb-validations="required" />
                                <label for="name">Full name</label>
                                <div class="invalid-feedback" data-sb-feedback="name:required">A name is required.</div>
                            </div>
                            <!-- Email address input-->
                            <div class="form-floating mb-3">
                                <input class="form-control" id="email" type="email" placeholder="name@example.com" data-sb-validations="required,email" />
                                <label for="email">Email address</label>
                                <div class="invalid-feedback" data-sb-feedback="email:required">An email is required.</div>
                                <div class="invalid-feedback" data-sb-feedback="email:email">Email is not valid.</div>
                            </div>
                            <!-- Phone number input-->
                            <div class="form-floating mb-3">
                                <input class="form-control" id="phone" type="tel" placeholder="(123) 456-7890" data-sb-validations="required" />
                                <label for="phone">Phone number</label>
                                <div class="invalid-feedback" data-sb-feedback="phone:required">A phone number is required.</div>
                            </div>
                            <!-- Message input-->
                            <div class="form-floating mb-3">
                                <textarea class="form-control" id="message" type="text" placeholder="Enter your message here..." style="height: 10rem" data-sb-validations="required"></textarea>
                                <label for="message">Message</label>
                                <div class="invalid-feedback" data-sb-feedback="message:required">A message is required.</div>
                            </div>
                        </form>
                    </div>
            </div>
        </div>

{% endblock content %}